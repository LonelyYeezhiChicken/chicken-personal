import{j as w,R as h}from"./react.190e4860.js";import{r as N}from"./remark-parse.00dd2888.js";import{p as l}from"./prop-types.35640cc6.js";import{f as P,h as E,s as R,a as S}from"./property-information.1f74bece.js";import{v as I}from"./unist-util-visit.a7a81adc.js";import{R as $}from"./react-is.86684602.js";import{w as D}from"./hast-util-whitespace.8f8023d5.js";import{s as U}from"./space-separated-tokens.9ca30725.js";import{s as H}from"./comma-separated-tokens.e44b482b.js";import{s as F}from"./style-to-object.0c02c56a.js";import{u as A}from"./unified.72277873.js";import{r as C}from"./remark-rehype.aa0b5315.js";import{V as L}from"./vfile.1aead541.js";const B=w.exports.Fragment,k=w.exports.jsx,pe=w.exports.jsxs,T=["http","https","mailto","tel"];function V(e){const t=(e||"").trim(),a=t.charAt(0);if(a==="#"||a==="/")return t;const s=t.indexOf(":");if(s===-1)return t;let r=-1;for(;++r<T.length;){const i=T[r];if(s===i.length&&t.slice(0,i.length).toLowerCase()===i)return t}return r=t.indexOf("?"),r!==-1&&s>r||(r=t.indexOf("#"),r!==-1&&s>r)?t:"javascript:void(0)"}function W(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{I(t,"element",(a,s,r)=>{const i=r;let n;if(e.allowedElements?n=!e.allowedElements.includes(a.tagName):e.disallowedElements&&(n=e.disallowedElements.includes(a.tagName)),!n&&e.allowElement&&typeof s=="number"&&(n=!e.allowElement(a,s,i)),n&&typeof s=="number")return e.unwrapDisallowed&&a.children?i.children.splice(s,1,...a.children):i.children.splice(s,1),s})}}const y={}.hasOwnProperty,z=new Set(["table","thead","tbody","tfoot","tr"]);function j(e,t){const a=[];let s=-1,r;for(;++s<t.children.length;)r=t.children[s],r.type==="element"?a.push(M(e,r,s,t)):r.type==="text"?(t.type!=="element"||!z.has(t.tagName)||!D(r))&&a.push(r.value):r.type==="raw"&&!e.options.skipHtml&&a.push(r.value);return a}function M(e,t,a,s){const r=e.options,i=e.schema,n=t.tagName,o={};let x=i,m;if(i.space==="html"&&n==="svg"&&(x=R,e.schema=x),t.properties)for(m in t.properties)y.call(t.properties,m)&&q(o,m,t.properties[m],e);(n==="ol"||n==="ul")&&e.listDepth++;const b=j(e,t);(n==="ol"||n==="ul")&&e.listDepth--,e.schema=i;const d=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},p=r.components&&y.call(r.components,n)?r.components[n]:n,c=typeof p=="string"||p===h.Fragment;if(!$.isValidElementType(p))throw new TypeError(`Component for name \`${n}\` not defined or is not renderable`);if(o.key=[n,d.start.line,d.start.column,a].join("-"),n==="a"&&r.linkTarget&&(o.target=typeof r.linkTarget=="function"?r.linkTarget(String(o.href||""),t.children,typeof o.title=="string"?o.title:null):r.linkTarget),n==="a"&&r.transformLinkUri&&(o.href=r.transformLinkUri(String(o.href||""),t.children,typeof o.title=="string"?o.title:null)),!c&&n==="code"&&s.type==="element"&&s.tagName!=="pre"&&(o.inline=!0),!c&&(n==="h1"||n==="h2"||n==="h3"||n==="h4"||n==="h5"||n==="h6")&&(o.level=Number.parseInt(n.charAt(1),10)),n==="img"&&r.transformImageUri&&(o.src=r.transformImageUri(String(o.src||""),String(o.alt||""),typeof o.title=="string"?o.title:null)),!c&&n==="li"&&s.type==="element"){const u=_(t);o.checked=u&&u.properties?Boolean(u.properties.checked):null,o.index=g(s,t),o.ordered=s.tagName==="ol"}return!c&&(n==="ol"||n==="ul")&&(o.ordered=n==="ol",o.depth=e.listDepth),(n==="td"||n==="th")&&(o.align&&(o.style||(o.style={}),o.style.textAlign=o.align,delete o.align),c||(o.isHeader=n==="th")),!c&&n==="tr"&&s.type==="element"&&(o.isHeader=Boolean(s.tagName==="thead")),r.sourcePos&&(o["data-sourcepos"]=K(d)),!c&&r.rawSourcePos&&(o.sourcePosition=t.position),!c&&r.includeElementIndex&&(o.index=g(s,t),o.siblingCount=g(s)),c||(o.node=t),b.length>0?h.createElement(p,o,b):h.createElement(p,o)}function _(e){let t=-1;for(;++t<e.children.length;){const a=e.children[t];if(a.type==="element"&&a.tagName==="input")return a}return null}function g(e,t){let a=-1,s=0;for(;++a<e.children.length&&e.children[a]!==t;)e.children[a].type==="element"&&s++;return s}function q(e,t,a,s){const r=P(s.schema,t);let i=a;i==null||i!==i||(Array.isArray(i)&&(i=r.commaSeparated?H(i):U(i)),r.property==="style"&&typeof i=="string"&&(i=G(i)),r.space&&r.property?e[y.call(E,r.property)?E[r.property]:r.property]=i:r.attribute&&(e[r.attribute]=i))}function G(e){const t={};try{F(e,a)}catch{}return t;function a(s,r){const i=s.slice(0,4)==="-ms-"?`ms-${s.slice(4)}`:s;t[i.replace(/-([a-z])/g,J)]=r}}function J(e,t){return t.toUpperCase()}function K(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(t=>String(t)).join("")}const O={}.hasOwnProperty,Q="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",f={plugins:{to:"plugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function v(e){for(const i in f)if(O.call(f,i)&&O.call(e,i)){const n=f[i];console.warn(`[react-markdown] Warning: please ${n.to?`use \`${n.to}\` instead of`:"remove"} \`${i}\` (see <${Q}#${n.id}> for more info)`),delete f[i]}const t=A().use(N).use(e.remarkPlugins||[]).use(C,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(W,e),a=new L;typeof e.children=="string"?a.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const s=t.runSync(t.parse(a),a);if(s.type!=="root")throw new TypeError("Expected a `root` node");let r=k(B,{children:j({options:e,schema:S,listDepth:0},s)});return e.className&&(r=k("div",{className:e.className,children:r})),r}v.defaultProps={transformLinkUri:V};v.propTypes={children:l.exports.string,className:l.exports.string,allowElement:l.exports.func,allowedElements:l.exports.arrayOf(l.exports.string),disallowedElements:l.exports.arrayOf(l.exports.string),unwrapDisallowed:l.exports.bool,remarkPlugins:l.exports.arrayOf(l.exports.oneOfType([l.exports.object,l.exports.func,l.exports.arrayOf(l.exports.oneOfType([l.exports.bool,l.exports.string,l.exports.object,l.exports.func,l.exports.arrayOf(l.exports.any)]))])),rehypePlugins:l.exports.arrayOf(l.exports.oneOfType([l.exports.object,l.exports.func,l.exports.arrayOf(l.exports.oneOfType([l.exports.bool,l.exports.string,l.exports.object,l.exports.func,l.exports.arrayOf(l.exports.any)]))])),sourcePos:l.exports.bool,rawSourcePos:l.exports.bool,skipHtml:l.exports.bool,includeElementIndex:l.exports.bool,transformLinkUri:l.exports.oneOfType([l.exports.func,l.exports.bool]),linkTarget:l.exports.oneOfType([l.exports.func,l.exports.string]),transformImageUri:l.exports.func,components:l.exports.object};export{B as F,v as R,pe as a,k as j};
